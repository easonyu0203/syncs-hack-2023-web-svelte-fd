import{s as ft,v as L,r as T,o as F,g as C,c as E,h as $,i as z,d as P,x as mt,A as dt,k as I,l as p,m as _}from"../chunks/scheduler.15758ddb.js";import{S as pt,i as _t,d as S,v as gt,j as J,k as K,e as r,g as w,a as d,m as X,n as b,b as Y,t as Z,l as tt,s as j}from"../chunks/index.3f5eacb3.js";import{g as A}from"../chunks/navigation.7f64dde7.js";import{p as H}from"../chunks/stores.e50b9230.js";import{H as it}from"../chunks/HomeButton.b45f7d26.js";import{S as ot}from"../chunks/SunnyTitle.a588e81a.js";import{d as et,f as nt}from"../chunks/firebase.c906b4c9.js";const R="src/routes/processing/[imgDocId]/+page.svelte";function st(s){let e,n;const a={c:function(){e=p("Brewing the magic"),n=p(s[1])},l:function(t){e=_(t,"Brewing the magic"),n=_(t,s[1])},m:function(t,o){d(t,e,o),d(t,n,o)},p:function(t,o){o&2&&j(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:a,id:st.name,type:"else",source:"(48:3) {:else}",ctx:s}),a}function at(s){let e,n;const a={c:function(){e=p("Construct beautiful essay"),n=p(s[1])},l:function(t){e=_(t,"Construct beautiful essay"),n=_(t,s[1])},m:function(t,o){d(t,e,o),d(t,n,o)},p:function(t,o){o&2&&j(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:a,id:at.name,type:"if",source:"(46:53) ",ctx:s}),a}function ct(s){let e,n;const a={c:function(){e=p("Categorize image"),n=p(s[1])},l:function(t){e=_(t,"Categorize image"),n=_(t,s[1])},m:function(t,o){d(t,e,o),d(t,n,o)},p:function(t,o){o&2&&j(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:a,id:ct.name,type:"if",source:"(44:55) ",ctx:s}),a}function rt(s){let e,n;const a={c:function(){e=p("Extracting text"),n=p(s[1])},l:function(t){e=_(t,"Extracting text"),n=_(t,s[1])},m:function(t,o){d(t,e,o),d(t,n,o)},p:function(t,o){o&2&&j(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:a,id:rt.name,type:"if",source:"(42:51) ",ctx:s}),a}function lt(s){let e,n;const a={c:function(){e=p("Waiting in Queue"),n=p(s[1])},l:function(t){e=_(t,"Waiting in Queue"),n=_(t,s[1])},m:function(t,o){d(t,e,o),d(t,n,o)},p:function(t,o){o&2&&j(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:a,id:lt.name,type:"if",source:"(40:45) ",ctx:s}),a}function ut(s){let e,n;const a={c:function(){e=p("Uploading"),n=p(s[1])},l:function(t){e=_(t,"Uploading"),n=_(t,s[1])},m:function(t,o){d(t,e,o),d(t,n,o)},p:function(t,o){o&2&&j(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:a,id:ut.name,type:"if",source:"(38:3) {#if $imgDoc?.status === 'uploading'}",ctx:s}),a}function O(s){let e,n,a,i,t,o,h,v,f,c,Q="Nice Snap! Let's see what we can do with this snap!",M,B,q,k,D;n=new it({$$inline:!0}),i=new ot({props:{actionName:"Snap"},$$inline:!0});function U(m,l){var u,y,x,W,G;return((u=m[0])==null?void 0:u.status)==="uploading"?ut:((y=m[0])==null?void 0:y.status)==="unprocess"?lt:((x=m[0])==null?void 0:x.status)==="extracting_text"?rt:((W=m[0])==null?void 0:W.status)==="predicting_category"?ct:((G=m[0])==null?void 0:G.status)==="structurized_text"?at:st}let N=U(s),g=N(s);const V={c:function(){e=C("main"),J(n.$$.fragment),a=E(),J(i.$$.fragment),t=E(),o=C("img"),v=E(),f=C("div"),c=C("p"),c.textContent=Q,M=E(),B=C("div"),q=E(),k=C("p"),g.c(),this.h()},l:function(l){e=$(l,"MAIN",{class:!0});var u=z(e);K(n.$$.fragment,u),a=P(u),K(i.$$.fragment,u),t=P(u),o=$(u,"IMG",{src:!0,alt:!0,class:!0}),v=P(u),f=$(u,"DIV",{class:!0});var y=z(f);c=$(y,"P",{class:!0,"data-svelte-h":!0}),mt(c)!=="svelte-119xkck"&&(c.textContent=Q),M=P(y),B=$(y,"DIV",{class:!0}),z(B).forEach(r),q=P(y),k=$(y,"P",{class:!0});var x=z(k);g.l(x),x.forEach(r),y.forEach(r),u.forEach(r),this.h()},h:function(){dt(o.src,h="/ghost.gif")||w(o,"src",h),w(o,"alt","ghost flow"),w(o,"class","max-w-xs"),I(o,R,36,1,941),w(c,"class","text-2xl font-semibold"),I(c,R,38,2,1027),w(B,"class","h-8"),I(B,R,39,2,1119),w(k,"class","text-2xl font-semibold"),I(k,R,40,2,1141),w(f,"class","max-w-xs"),I(f,R,37,1,1001),w(e,"class","container h-screen bg-surface-900 relative flex flex-col space-y-12 justify-center items-center"),I(e,R,31,0,776)},m:function(l,u){d(l,e,u),X(n,e,null),b(e,a),X(i,e,null),b(e,t),b(e,o),b(e,v),b(e,f),b(f,c),b(f,M),b(f,B),b(f,q),b(f,k),g.m(k,null),D=!0},p:function(l,[u]){N===(N=U(l))&&g?g.p(l,u):(g.d(1),g=N(l),g&&(g.c(),g.m(k,null)))},i:function(l){D||(Y(n.$$.fragment,l),Y(i.$$.fragment,l),D=!0)},o:function(l){Z(n.$$.fragment,l),Z(i.$$.fragment,l),D=!1},d:function(l){l&&r(e),tt(n),tt(i),g.d()}};return S("SvelteRegisterBlock",{block:V,id:O.name,type:"component",source:"",ctx:s}),V}function vt(s,e,n){let a,i;L(H,"page"),T(s,H,c=>n(3,i=c));let{$$slots:t={},$$scope:o}=e;gt("Page",t,[]);const h=et(nt,`images/${i.params.imgDocId}`);L(h,"imgDoc"),T(s,h,c=>n(0,a=c));let v="...";F(()=>{const c=setInterval(()=>{v.length===3?n(1,v=""):n(1,v+=".")},500);return()=>clearInterval(c)});const f=[];return Object.keys(e).forEach(c=>{!~f.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<Page> was created with unknown prop '${c}'`)}),s.$capture_state=()=>({goto:A,page:H,HomeButton:it,SunnyTitle:ot,firestore:nt,onMount:F,docStore:et,imgDoc:h,dots:v,$imgDoc:a,$page:i}),s.$inject_state=c=>{"dots"in c&&n(1,v=c.dots)},e&&"$$inject"in e&&s.$inject_state(e.$$inject),s.$$.update=()=>{s.$$.dirty&1&&((a==null?void 0:a.status)=="failed"?A("/process_failed"):(a==null?void 0:a.status)=="success"&&A(`/adding/${h.id}`))},[a,v,h]}class Ct extends pt{constructor(e){super(e),_t(this,e,vt,O,ft,{}),S("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:O.name})}}export{Ct as component};
