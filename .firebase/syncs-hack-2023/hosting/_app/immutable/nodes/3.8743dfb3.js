import{s as Je,x as Ie,y as De,g,c as S,l as te,h as b,i as D,d as C,m as ne,K as le,k,L as we,e as re,f as Qe,M as We,n as ue}from"../chunks/scheduler.b5e21764.js";import{S as Xe,i as Ye,d as H,z as oe,v as Ze,j as ie,k as ae,e as _,g as d,a as F,m as ce,u as a,t as Z,c as et,b as ee,l as fe,D as tt,h as nt,r as lt,s as _e}from"../chunks/index.731aee48.js";import{g as st}from"../chunks/globals.7f7f1b26.js";import{H as ze}from"../chunks/HomeButton.47e13ceb.js";import{S as Me}from"../chunks/SunnyTitle.3b440636.js";import{_ as $e,R as Se,k as Ce,b as Ve,c as Ae,u as ot,a as rt,f as de,d as Re}from"../chunks/firebase.77b34670.js";import{p as me}from"../chunks/stores.a6be284b.js";import{g as Be}from"../chunks/navigation.587ec899.js";import{t as Ne}from"../chunks/stores.6d055ea1.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.4e213c5d.js";import{F as Te}from"../chunks/FileButton.f17aef25.js";import{P as Oe}from"../chunks/ProgressRadial.707df365.js";import{I as it}from"../chunks/Icon.fc4791d2.js";const{console:at}=st,y="src/routes/[userId]/+page.svelte";function je(s,e,n){const l=s.slice();return l[11]=e[n],l}function Pe(s,e,n){const l=s.slice();return l[11]=e[n],l}function qe(s){let e,n,l=s[11].structurized_text.title+"",t,o,i;const r={c:function(){e=g("a"),n=g("div"),t=te(l),o=S(),this.h()},l:function(u){e=b(u,"A",{href:!0,class:!0});var f=D(e);n=b(f,"DIV",{class:!0});var p=D(n);t=ne(p,l),p.forEach(_),o=C(f),f.forEach(_),this.h()},h:function(){d(n,"class","font-extrabold text-lg"),k(n,y,60,5,1922),d(e,"href",i=`images/${s[11].id}`),d(e,"class","card block card-hover p-4 rounded-xl"),k(e,y,59,4,1839)},m:function(u,f){F(u,e,f),a(e,n),a(n,t),a(e,o)},p:function(u,f){f&4&&l!==(l=u[11].structurized_text.title+"")&&_e(t,l),f&4&&i!==(i=`images/${u[11].id}`)&&d(e,"href",i)},d:function(u){u&&_(e)}};return H("SvelteRegisterBlock",{block:r,id:qe.name,type:"else",source:"(56:3) {:else}",ctx:s}),r}function Fe(s){let e,n,l,t,o,i;const r={c:function(){e=g("div"),n=g("div"),l=g("div"),t=S(),o=g("div"),i=S(),this.h()},l:function(u){e=b(u,"DIV",{class:!0});var f=D(e);n=b(f,"DIV",{class:!0});var p=D(n);l=b(p,"DIV",{class:!0}),D(l).forEach(_),t=C(p),o=b(p,"DIV",{class:!0}),D(o).forEach(_),p.forEach(_),i=C(f),f.forEach(_),this.h()},h:function(){d(l,"class","placeholder animate-pulse w-24"),k(l,y,54,6,1701),d(o,"class","placeholder animate-pulse w-24"),k(o,y,55,6,1754),d(n,"class","p-4 space-y-3"),k(n,y,53,5,1667),d(e,"class","card block card-hover p-4 rounded-xl"),k(e,y,52,4,1611)},m:function(u,f){F(u,e,f),a(e,n),a(n,l),a(n,t),a(n,o),a(e,i)},p:ue,d:function(u){u&&_(e)}};return H("SvelteRegisterBlock",{block:r,id:Fe.name,type:"if",source:"(49:3) {#if imgDoc == 0}",ctx:s}),r}function he(s){let e;function n(i,r){return i[11]==0?Fe:qe}let l=n(s),t=l(s);const o={c:function(){t.c(),e=re()},l:function(r){t.l(r),e=re()},m:function(r,c){t.m(r,c),F(r,e,c)},p:function(r,c){l===(l=n(r))&&t?t.p(r,c):(t.d(1),t=l(r),t&&(t.c(),t.m(e.parentNode,e)))},d:function(r){r&&_(e),t.d(r)}};return H("SvelteRegisterBlock",{block:o,id:he.name,type:"each",source:"(48:2) {#each notes as imgDoc}",ctx:s}),o}function He(s){let e,n,l,t,o="Aug",i,r,c="24",u,f,p,x=s[11].structurized_text.title+"",m,V,w,A=s[11].structurized_text.location+"",h,L;const Q={c:function(){e=g("dl"),n=g("div"),l=g("div"),t=g("div"),t.textContent=o,i=S(),r=g("div"),r.textContent=c,u=S(),f=g("span"),p=g("dt"),m=te(x),V=S(),w=g("dd"),h=te(A),L=S(),this.h()},l:function(M){e=b(M,"DL",{class:!0});var q=D(e);n=b(q,"DIV",{class:!0});var T=D(n);l=b(T,"DIV",{class:!0});var K=D(l);t=b(K,"DIV",{class:!0,"data-svelte-h":!0}),le(t)!=="svelte-152vst7"&&(t.textContent=o),i=C(K),r=b(K,"DIV",{class:!0,"data-svelte-h":!0}),le(r)!=="svelte-1xrksoy"&&(r.textContent=c),K.forEach(_),u=C(T),f=b(T,"SPAN",{class:!0});var O=D(f);p=b(O,"DT",{class:!0});var j=D(p);m=ne(j,x),j.forEach(_),V=C(O),w=b(O,"DD",{class:!0});var P=D(w);h=ne(P,A),P.forEach(_),O.forEach(_),T.forEach(_),q.forEach(_),L=C(M),this.h()},h:function(){d(t,"class","font-bold"),k(t,y,84,7,2703),d(r,"class","font-bold"),k(r,y,85,7,2744),d(l,"class","flex flex-col rounded-xl border-2 p-2 px-4 justify-center items-center"),k(l,y,83,6,2610),d(p,"class","font-extrabold text-lg"),k(p,y,88,7,2827),d(w,"class","text-sm"),k(w,y,89,7,2908),d(f,"class","flex-auto"),k(f,y,87,6,2795),d(n,"class","flex space-x-3"),k(n,y,82,5,2575),d(e,"class","flex w-80"),k(e,y,81,4,2547)},m:function(M,q){F(M,e,q),a(e,n),a(n,l),a(l,t),a(l,i),a(l,r),a(n,u),a(n,f),a(f,p),a(p,m),a(f,V),a(f,w),a(w,h),F(M,L,q)},p:function(M,q){q&8&&x!==(x=M[11].structurized_text.title+"")&&_e(m,x),q&8&&A!==(A=M[11].structurized_text.location+"")&&_e(h,A)},d:function(M){M&&(_(e),_(L))}};return H("SvelteRegisterBlock",{block:Q,id:He.name,type:"else",source:"(78:3) {:else}",ctx:s}),Q}function Le(s){let e,n,l,t,o,i;const r={c:function(){e=g("div"),n=g("div"),l=g("div"),t=S(),o=g("div"),i=S(),this.h()},l:function(u){e=b(u,"DIV",{class:!0});var f=D(e);n=b(f,"DIV",{class:!0});var p=D(n);l=b(p,"DIV",{class:!0}),D(l).forEach(_),t=C(p),o=b(p,"DIV",{class:!0}),D(o).forEach(_),p.forEach(_),i=C(f),f.forEach(_),this.h()},h:function(){d(l,"class","placeholder animate-pulse w-24"),k(l,y,76,6,2409),d(o,"class","placeholder animate-pulse w-24"),k(o,y,77,6,2462),d(n,"class","p-4 space-y-4"),k(n,y,75,5,2375),d(e,"class","card block card-hover p-4 rounded-xl"),k(e,y,74,4,2319)},m:function(u,f){F(u,e,f),a(e,n),a(n,l),a(n,t),a(n,o),a(e,i)},p:ue,d:function(u){u&&_(e)}};return H("SvelteRegisterBlock",{block:r,id:Le.name,type:"if",source:"(71:3) {#if imgDoc == 0}",ctx:s}),r}function pe(s){let e;function n(i,r){return i[11]==0?Le:He}let l=n(s),t=l(s);const o={c:function(){t.c(),e=re()},l:function(r){t.l(r),e=re()},m:function(r,c){t.m(r,c),F(r,e,c)},p:function(r,c){l===(l=n(r))&&t?t.p(r,c):(t.d(1),t=l(r),t&&(t.c(),t.m(e.parentNode,e)))},d:function(r){r&&_(e),t.d(r)}};return H("SvelteRegisterBlock",{block:o,id:pe.name,type:"each",source:"(70:2) {#each events as imgDoc}",ctx:s}),o}function Ke(s){let e,n,l,t,o="Add Audio",i,r,c;function u(x){s[7](x)}let f={name:"files",button:"variant-filled-primary ",class:"btn variant-filled-primary rounded-xl font-extrabold w-64 p-1",$$slots:{default:[Ge]},$$scope:{ctx:s}};s[0]!==void 0&&(f.files=s[0]),e=new Te({props:f,$$inline:!0}),Qe.push(()=>tt(e,"files",u));const p={c:function(){ie(e.$$.fragment),l=S(),t=g("button"),t.textContent=o,this.h()},l:function(m){ae(e.$$.fragment,m),l=C(m),t=b(m,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),le(t)!=="svelte-fftm5e"&&(t.textContent=o),this.h()},h:function(){d(t,"type","button"),d(t,"class","btn p-3 variant-filled-secondary text-2xl rounded-xl font-extrabold w-64"),k(t,y,111,3,3606)},m:function(m,V){ce(e,m,V),F(m,l,V),F(m,t,V),i=!0,r||(c=lt(t,"click",s[8],!1,!1,!1,!1),r=!0)},p:function(m,V){const w={};V&65536&&(w.$$scope={dirty:V,ctx:m}),!n&&V&1&&(n=!0,w.files=m[0],We(()=>n=!1)),e.$set(w)},i:function(m){i||(ee(e.$$.fragment,m),i=!0)},o:function(m){Z(e.$$.fragment,m),i=!1},d:function(m){m&&(_(l),_(t)),fe(e,m),r=!1,c()}};return H("SvelteRegisterBlock",{block:p,id:Ke.name,type:"else",source:"(101:2) {:else}",ctx:s}),p}function Ue(s){let e,n;e=new Oe({props:{stroke:100,meter:"stroke-primary-500",track:"stroke-primary-500/30"},$$inline:!0});const l={c:function(){ie(e.$$.fragment)},l:function(o){ae(e.$$.fragment,o)},m:function(o,i){ce(e,o,i),n=!0},p:ue,i:function(o){n||(ee(e.$$.fragment,o),n=!0)},o:function(o){Z(e.$$.fragment,o),n=!1},d:function(o){fe(e,o)}};return H("SvelteRegisterBlock",{block:l,id:Ue.name,type:"if",source:"(99:2) {#if pressAction}",ctx:s}),l}function Ge(s){let e,n="Add Picture";const l={c:function(){e=g("p"),e.textContent=n,this.h()},l:function(o){e=b(o,"P",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-nlfkcs"&&(e.textContent=n),this.h()},h:function(){d(e,"class","text-2xl"),k(e,y,109,5,3549)},m:function(o,i){F(o,e,i)},p:ue,d:function(o){o&&_(e)}};return H("SvelteRegisterBlock",{block:l,id:Ge.name,type:"slot",source:'(102:3) <FileButton     bind:files     name=\\"files\\"     button=\\"variant-filled-primary \\"     class=\\"btn variant-filled-primary rounded-xl font-extrabold w-64 p-1\\"     >',ctx:s}),l}function ve(s){let e,n,l,t,o,i,r,c,u,f,p,x,m,V,w,A,h,L,Q,z,M="Events",q,T,K,O,j,P,W;n=new Me({props:{actionName:"Notes"},$$inline:!0}),t=new ze({$$inline:!0});let X=oe(s[2]),R=[];for(let $=0;$<X.length;$+=1)R[$]=he(Pe(s,X,$));let Y=oe(s[3]),B=[];for(let $=0;$<Y.length;$+=1)B[$]=pe(je(s,Y,$));const ge=[Ue,Ke],U=[];function be($,v){return $[1]?0:1}j=be(s),P=U[j]=ge[j](s);const ke={c:function(){e=g("main"),ie(n.$$.fragment),l=S(),ie(t.$$.fragment),o=S(),i=g("div"),r=S(),c=g("div"),u=g("a"),f=te("More Notes"),x=S(),m=g("section");for(let v=0;v<R.length;v+=1)R[v].c();V=S(),w=g("div"),A=g("a"),h=te("More Events"),Q=S(),z=g("h1"),z.textContent=M,q=S(),T=g("section");for(let v=0;v<B.length;v+=1)B[v].c();K=S(),O=g("div"),P.c(),this.h()},l:function(v){e=b(v,"MAIN",{class:!0});var I=D(e);ae(n.$$.fragment,I),l=C(I),ae(t.$$.fragment,I),o=C(I),i=b(I,"DIV",{class:!0}),D(i).forEach(_),r=C(I),c=b(I,"DIV",{class:!0});var N=D(c);u=b(N,"A",{href:!0,class:!0});var E=D(u);f=ne(E,"More Notes"),E.forEach(_),N.forEach(_),x=C(I),m=b(I,"SECTION",{class:!0});var G=D(m);for(let J=0;J<R.length;J+=1)R[J].l(G);G.forEach(_),V=C(I),w=b(I,"DIV",{class:!0});var se=D(w);A=b(se,"A",{href:!0,class:!0});var ye=D(A);h=ne(ye,"More Events"),ye.forEach(_),Q=C(se),z=b(se,"H1",{class:!0,"data-svelte-h":!0}),le(z)!=="svelte-14bg11t"&&(z.textContent=M),se.forEach(_),q=C(I),T=b(I,"SECTION",{class:!0});var xe=D(T);for(let J=0;J<B.length;J+=1)B[J].l(xe);xe.forEach(_),K=C(I),O=b(I,"DIV",{class:!0});var Ee=D(O);P.l(Ee),Ee.forEach(_),I.forEach(_),this.h()},h:function(){d(i,"class","h-28"),k(i,y,44,1,1366),d(u,"href",p=`/notes/${s[4].params.userId}`),d(u,"class","underline"),k(u,y,47,2,1429),d(c,"class","w-full flex justify-end"),k(c,y,46,1,1389),d(m,"class","grid grid-cols-2 gap-4 mt-4"),k(m,y,49,1,1514),d(A,"href",L=`/events/${s[4].params.userId}`),d(A,"class","underline"),k(A,y,67,2,2098),d(z,"class","h1 text-4xl"),k(z,y,68,2,2178),d(w,"class","w-full flex justify-between items-end mt-8"),k(w,y,66,1,2039),d(T,"class","flex flex-col mt-6 gap-4"),k(T,y,71,1,2224),d(O,"class","flex-grow flex flex-col space-y-3 items-center my-6"),k(O,y,100,1,3197),d(e,"class","container h-screen bg-surface-900 relative flex flex-col justify-start items-center px-8"),k(e,y,39,0,1207)},m:function(v,I){F(v,e,I),ce(n,e,null),a(e,l),ce(t,e,null),a(e,o),a(e,i),a(e,r),a(e,c),a(c,u),a(u,f),a(e,x),a(e,m);for(let N=0;N<R.length;N+=1)R[N]&&R[N].m(m,null);a(e,V),a(e,w),a(w,A),a(A,h),a(w,Q),a(w,z),a(e,q),a(e,T);for(let N=0;N<B.length;N+=1)B[N]&&B[N].m(T,null);a(e,K),a(e,O),U[j].m(O,null),W=!0},p:function(v,[I]){if((!W||I&16&&p!==(p=`/notes/${v[4].params.userId}`))&&d(u,"href",p),I&4){X=oe(v[2]);let E;for(E=0;E<X.length;E+=1){const G=Pe(v,X,E);R[E]?R[E].p(G,I):(R[E]=he(G),R[E].c(),R[E].m(m,null))}for(;E<R.length;E+=1)R[E].d(1);R.length=X.length}if((!W||I&16&&L!==(L=`/events/${v[4].params.userId}`))&&d(A,"href",L),I&8){Y=oe(v[3]);let E;for(E=0;E<Y.length;E+=1){const G=je(v,Y,E);B[E]?B[E].p(G,I):(B[E]=pe(G),B[E].c(),B[E].m(T,null))}for(;E<B.length;E+=1)B[E].d(1);B.length=Y.length}let N=j;j=be(v),j===N?U[j].p(v,I):(nt(),Z(U[N],1,1,()=>{U[N]=null}),et(),P=U[j],P?P.p(v,I):(P=U[j]=ge[j](v),P.c()),ee(P,1),P.m(O,null))},i:function(v){W||(ee(n.$$.fragment,v),ee(t.$$.fragment,v),ee(P),W=!0)},o:function(v){Z(n.$$.fragment,v),Z(t.$$.fragment,v),Z(P),W=!1},d:function(v){v&&_(e),fe(n),fe(t),we(R,v),we(B,v),U[j].d()}};return H("SvelteRegisterBlock",{block:ke,id:ve.name,type:"component",source:"",ctx:s}),ke}function ct(s,e,n){let l,t,o,i;Ie(me,"page"),De(s,me,h=>n(4,i=h));let{$$slots:r={},$$scope:c}=e;Ze("Page",r,[]);const u=$e(de,"images"),f=Se(u,Ve("userId","==",i.params.userId),Ce(4)),p=Ae(de,f);Ie(p,"images"),De(s,p,h=>n(6,o=h));let x,m=!1;const V=[];Object.keys(e).forEach(h=>{!~V.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&at.warn(`<Page> was created with unknown prop '${h}'`)});function w(h){x=h,n(0,x)}const A=()=>{Ne.trigger({message:"not yet implemented 🫠😭"})};return s.$capture_state=()=>({HomeButton:ze,SunnyTitle:Me,collectionStore:Ae,userStore:ot,auth:rt,firestore:de,uploadImg:Re,collection:$e,where:Ve,query:Se,limit:Ce,page:me,goto:Be,FileButton:Te,ProgressRadial:Oe,toastStore:Ne,Icon:it,imagesRef:u,q:f,images:p,files:x,pressAction:m,notes:t,events:l,$images:o,$page:i}),s.$inject_state=h=>{"files"in h&&n(0,x=h.files),"pressAction"in h&&n(1,m=h.pressAction),"notes"in h&&n(2,t=h.notes),"events"in h&&n(3,l=h.events)},e&&"$$inject"in e&&s.$inject_state(e.$$inject),s.$$.update=()=>{s.$$.dirty&1&&x&&x.length>0&&(Re(x).then(h=>{Be(`/processing/${h}`)}),n(1,m=!0)),s.$$.dirty&64&&console.log(o),s.$$.dirty&64&&n(3,l=[...o.filter(h=>h.category=="events"),...Array(2).fill(0)].slice(0,2)),s.$$.dirty&64&&n(2,t=[...o.filter(h=>h.category=="notes"),...Array(4).fill(0)].slice(0,4))},[x,m,t,l,i,p,o,w,A]}class Et extends Xe{constructor(e){super(e),Ye(this,e,ct,ve,Je,{}),H("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:ve.name})}}export{Et as component};
