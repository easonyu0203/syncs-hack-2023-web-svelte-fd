import{s as Qe,x as xe,y as Ie,g,c as j,l as J,h as b,i as E,d as M,m as Q,K as ye,k,L as $e,e as ce,f as We,M as Xe,n as _e}from"../chunks/scheduler.078b4462.js";import{S as Ze,i as et,d as q,z as ie,v as tt,j as fe,k as ue,e as d,g as u,a as L,u as i,m as de,t as ne,c as nt,b as le,l as me,D as lt,h as ot,r as st,s as te}from"../chunks/index.0492f3ae.js";import{g as at}from"../chunks/globals.7f7f1b26.js";import{H as ze}from"../chunks/HomeButton.645d24de.js";import{S as Ue}from"../chunks/SunnyTitle.71e1cc19.js";import{_ as Ce,R as Ae,k as Re,b as Ve,c as Be,u as rt,a as it,f as he,d as Ne}from"../chunks/firebase.aa651bd7.js";import{p as pe}from"../chunks/stores.b59c6477.js";import{g as Te}from"../chunks/navigation.ef3aaf29.js";import{t as je}from"../chunks/stores.3a99b166.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.75326b71.js";import{F as Fe}from"../chunks/FileButton.9fc5bcaa.js";import{P as Oe}from"../chunks/ProgressRadial.b732b1fd.js";const{console:ct}=at,y="src/routes/[userId]/+page.svelte";function Me(o,e,n){const l=o.slice();return l[11]=e[n],l}function Pe(o,e,n){const l=o.slice();return l[11]=e[n],l}function qe(o){let e,n,l=o[11].structurized_text.title.toUpperCase()+"",t,a,r;const s={c:function(){e=g("a"),n=g("div"),t=J(l),a=j(),this.h()},l:function(h){e=b(h,"A",{href:!0,class:!0});var I=E(e);n=b(I,"DIV",{class:!0});var R=E(n);t=Q(R,l),R.forEach(d),a=M(I),I.forEach(d),this.h()},h:function(){u(n,"class","font-bold text-sm"),k(n,y,80,5,2519),u(e,"href",r=`notes/image/${o[11].id}`),u(e,"class","card card-hover p-4 max-h-20 overflow-clip rounded-xl flex justify-between flex-col"),k(e,y,76,4,2369)},m:function(h,I){L(h,e,I),i(e,n),i(n,t),i(e,a)},p:function(h,I){I&4&&l!==(l=h[11].structurized_text.title.toUpperCase()+"")&&te(t,l),I&4&&r!==(r=`notes/image/${h[11].id}`)&&u(e,"href",r)},d:function(h){h&&d(e)}};return q("SvelteRegisterBlock",{block:s,id:qe.name,type:"else",source:"(66:3) {:else}",ctx:o}),s}function He(o){let e,n,l,t;const a={c:function(){e=g("div"),n=g("div"),l=g("div"),t=j(),this.h()},l:function(s){e=b(s,"DIV",{class:!0});var c=E(e);n=b(c,"DIV",{class:!0});var h=E(n);l=b(h,"DIV",{class:!0}),E(l).forEach(d),h.forEach(d),t=M(c),c.forEach(d),this.h()},h:function(){u(l,"class","placeholder animate-pulse w-24"),k(l,y,72,6,2284),u(n,"class","p-4 space-y-1"),k(n,y,71,5,2250),u(e,"class","card block card-hover h-16 p-2 rounded-xl"),k(e,y,70,4,2189)},m:function(s,c){L(s,e,c),i(e,n),i(n,l),i(e,t)},p:_e,d:function(s){s&&d(e)}};return q("SvelteRegisterBlock",{block:a,id:He.name,type:"if",source:"(60:3) {#if imgDoc == 0}",ctx:o}),a}function ve(o){let e;function n(r,s){return r[11]==0?He:qe}let l=n(o),t=l(o);const a={c:function(){t.c(),e=ce()},l:function(s){t.l(s),e=ce()},m:function(s,c){t.m(s,c),L(s,e,c)},p:function(s,c){l===(l=n(s))&&t?t.p(s,c):(t.d(1),t=l(s),t&&(t.c(),t.m(e.parentNode,e)))},d:function(s){s&&d(e),t.d(s)}};return q("SvelteRegisterBlock",{block:a,id:ve.name,type:"each",source:"(59:2) {#each notes as imgDoc}",ctx:o}),a}function Le(o){let e,n,l,t,a,r=ae(o[11].uploadTime)[0]+"",s,c,h,I=ae(o[11].uploadTime)[1]+"",R,p,f,D,$=o[11].structurized_text.title.toUpperCase()+"",H,_,O,P=o[11].structurized_text.location+"",W,X,N,K=ke(o[11].uploadTime)+"",z,T,B;const Y={c:function(){e=g("a"),n=g("dl"),l=g("div"),t=g("div"),a=g("div"),s=J(r),c=j(),h=g("div"),R=J(I),p=j(),f=g("span"),D=g("dt"),H=J($),_=j(),O=g("dd"),W=J(P),X=j(),N=g("dd"),z=J(K),T=j(),this.h()},l:function(v){e=b(v,"A",{href:!0});var V=E(e);n=b(V,"DL",{class:!0});var A=E(n);l=b(A,"DIV",{class:!0});var Z=E(l);t=b(Z,"DIV",{class:!0});var U=E(t);a=b(U,"DIV",{class:!0});var oe=E(a);s=Q(oe,r),oe.forEach(d),c=M(U),h=b(U,"DIV",{class:!0});var se=E(h);R=Q(se,I),se.forEach(d),U.forEach(d),p=M(Z),f=b(Z,"SPAN",{class:!0});var S=E(f);D=b(S,"DT",{class:!0});var m=E(D);H=Q(m,$),m.forEach(d),_=M(S),O=b(S,"DD",{class:!0});var x=E(O);W=Q(x,P),x.forEach(d),X=M(S),N=b(S,"DD",{class:!0});var C=E(N);z=Q(C,K),C.forEach(d),S.forEach(d),Z.forEach(d),A.forEach(d),T=M(V),V.forEach(d),this.h()},h:function(){u(a,"class","font-bold text-sm"),k(a,y,107,8,3489),u(h,"class","font-bold text-sm"),k(h,y,108,8,3572),u(t,"class","flex flex-col rounded-xl border-2 p-2 px-4 justify-center items-center"),k(t,y,106,7,3395),u(D,"class","font-extrabold"),k(D,y,111,8,3700),u(O,"class","text-sm"),k(O,y,112,8,3788),u(N,"class","text-sm"),k(N,y,113,8,3858),u(f,"class","flex-auto"),k(f,y,110,7,3667),u(l,"class","flex space-x-3"),k(l,y,105,6,3359),u(n,"class","flex w-80 max-h-20 overflow-clip"),k(n,y,104,5,3307),u(e,"href",B=`events/image/${o[11].id}`),k(e,y,103,4,3263)},m:function(v,V){L(v,e,V),i(e,n),i(n,l),i(l,t),i(t,a),i(a,s),i(t,c),i(t,h),i(h,R),i(l,p),i(l,f),i(f,D),i(D,H),i(f,_),i(f,O),i(O,W),i(f,X),i(f,N),i(N,z),i(e,T)},p:function(v,V){V&8&&r!==(r=ae(v[11].uploadTime)[0]+"")&&te(s,r),V&8&&I!==(I=ae(v[11].uploadTime)[1]+"")&&te(R,I),V&8&&$!==($=v[11].structurized_text.title.toUpperCase()+"")&&te(H,$),V&8&&P!==(P=v[11].structurized_text.location+"")&&te(W,P),V&8&&K!==(K=ke(v[11].uploadTime)+"")&&te(z,K),V&8&&B!==(B=`events/image/${v[11].id}`)&&u(e,"href",B)},d:function(v){v&&d(e)}};return q("SvelteRegisterBlock",{block:Y,id:Le.name,type:"else",source:"(93:3) {:else}",ctx:o}),Y}function Ke(o){let e,n,l,t;const a={c:function(){e=g("div"),n=g("div"),l=g("div"),t=j(),this.h()},l:function(s){e=b(s,"DIV",{class:!0});var c=E(e);n=b(c,"DIV",{class:!0});var h=E(n);l=b(h,"DIV",{class:!0}),E(l).forEach(d),h.forEach(d),t=M(c),c.forEach(d),this.h()},h:function(){u(l,"class","placeholder animate-pulse w-24"),k(l,y,99,6,3178),u(n,"class","p-4 space-y-2 w-64"),k(n,y,98,5,3139),u(e,"class","card block card-hover h-16 p-2 rounded-xl"),k(e,y,97,4,3078)},m:function(s,c){L(s,e,c),i(e,n),i(n,l),i(e,t)},p:_e,d:function(s){s&&d(e)}};return q("SvelteRegisterBlock",{block:a,id:Ke.name,type:"if",source:"(87:3) {#if imgDoc == 0}",ctx:o}),a}function ge(o){let e;function n(r,s){return r[11]==0?Ke:Le}let l=n(o),t=l(o);const a={c:function(){t.c(),e=ce()},l:function(s){t.l(s),e=ce()},m:function(s,c){t.m(s,c),L(s,e,c)},p:function(s,c){l===(l=n(s))&&t?t.p(s,c):(t.d(1),t=l(s),t&&(t.c(),t.m(e.parentNode,e)))},d:function(s){s&&d(e),t.d(s)}};return q("SvelteRegisterBlock",{block:a,id:ge.name,type:"each",source:"(86:2) {#each events as imgDoc}",ctx:o}),a}function Ye(o){let e,n,l,t,a="Add Audio",r,s,c;function h(p){o[7](p)}let I={name:"files",button:"variant-filled-primary ",class:"btn variant-filled-primary rounded-xl font-extrabold w-48 p-1",$$slots:{default:[Je]},$$scope:{ctx:o}};o[0]!==void 0&&(I.files=o[0]),e=new Fe({props:I,$$inline:!0}),We.push(()=>lt(e,"files",h));const R={c:function(){fe(e.$$.fragment),l=j(),t=g("button"),t.textContent=a,this.h()},l:function(f){ue(e.$$.fragment,f),l=M(f),t=b(f,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ye(t)!=="svelte-xhpafu"&&(t.textContent=a),this.h()},h:function(){u(t,"type","button"),u(t,"class","btn p-3 variant-filled-secondary rounded-xl font-extrabold w-48"),k(t,y,133,3,4402)},m:function(f,D){de(e,f,D),L(f,l,D),L(f,t,D),r=!0,s||(c=st(t,"click",o[8],!1,!1,!1,!1),s=!0)},p:function(f,D){const $={};D&65536&&($.$$scope={dirty:D,ctx:f}),!n&&D&1&&(n=!0,$.files=f[0],Xe(()=>n=!1)),e.$set($)},i:function(f){r||(le(e.$$.fragment,f),r=!0)},o:function(f){ne(e.$$.fragment,f),r=!1},d:function(f){f&&(d(l),d(t)),me(e,f),s=!1,c()}};return q("SvelteRegisterBlock",{block:R,id:Ye.name,type:"else",source:"(116:2) {:else}",ctx:o}),R}function Ge(o){let e,n;e=new Oe({props:{stroke:100,meter:"stroke-primary-500",track:"stroke-primary-500/30"},$$inline:!0});const l={c:function(){fe(e.$$.fragment)},l:function(a){ue(e.$$.fragment,a)},m:function(a,r){de(e,a,r),n=!0},p:_e,i:function(a){n||(le(e.$$.fragment,a),n=!0)},o:function(a){ne(e.$$.fragment,a),n=!1},d:function(a){me(e,a)}};return q("SvelteRegisterBlock",{block:l,id:Ge.name,type:"if",source:"(114:2) {#if pressAction}",ctx:o}),l}function Je(o){let e,n="Add Picture";const l={c:function(){e=g("p"),e.textContent=n,this.h()},l:function(a){e=b(a,"P",{class:!0,"data-svelte-h":!0}),ye(e)!=="svelte-1ptid3u"&&(e.textContent=n),this.h()},h:function(){u(e,"class",""),k(e,y,131,5,4354)},m:function(a,r){L(a,e,r)},p:_e,d:function(a){a&&d(e)}};return q("SvelteRegisterBlock",{block:l,id:Je.name,type:"slot",source:'(117:3) <FileButton     bind:files     name=\\"files\\"     button=\\"variant-filled-primary \\"     class=\\"btn variant-filled-primary rounded-xl font-extrabold w-48 p-1\\"     >',ctx:o}),l}function be(o){let e,n,l,t,a,r,s,c,h,I,R,p,f,D,$,H,_,O,P,W="Events",X,N,K,z,T,B,Y;l=new Ue({props:{actionName:"Notes"},$$inline:!0}),a=new ze({$$inline:!0});let F=ie(o[2]),v=[];for(let S=0;S<F.length;S+=1)v[S]=ve(Pe(o,F,S));let V=ie(o[3]),A=[];for(let S=0;S<V.length;S+=1)A[S]=ge(Me(o,V,S));const Z=[Ge,Ye],U=[];function oe(S,m){return S[1]?0:1}T=oe(o),B=U[T]=Z[T](o);const se={c:function(){e=g("main"),n=g("div"),fe(l.$$.fragment),t=j(),fe(a.$$.fragment),r=j(),s=g("div"),c=g("a"),h=J("More Notes"),R=j(),p=g("section");for(let m=0;m<v.length;m+=1)v[m].c();f=j(),D=g("div"),$=g("a"),H=J("More Events"),O=j(),P=g("h1"),P.textContent=W,X=j(),N=g("section");for(let m=0;m<A.length;m+=1)A[m].c();K=j(),z=g("div"),B.c(),this.h()},l:function(m){e=b(m,"MAIN",{class:!0});var x=E(e);n=b(x,"DIV",{class:!0});var C=E(n);ue(l.$$.fragment,C),t=M(C),ue(a.$$.fragment,C),C.forEach(d),r=M(x),s=b(x,"DIV",{class:!0});var w=E(s);c=b(w,"A",{href:!0,class:!0});var G=E(c);h=Q(G,"More Notes"),G.forEach(d),w.forEach(d),R=M(x),p=b(x,"SECTION",{class:!0});var we=E(p);for(let ee=0;ee<v.length;ee+=1)v[ee].l(we);we.forEach(d),f=M(x),D=b(x,"DIV",{class:!0});var re=E(D);$=b(re,"A",{href:!0,class:!0});var De=E($);H=Q(De,"More Events"),De.forEach(d),O=M(re),P=b(re,"H1",{class:!0,"data-svelte-h":!0}),ye(P)!=="svelte-1easv1b"&&(P.textContent=W),re.forEach(d),X=M(x),N=b(x,"SECTION",{class:!0});var Ee=E(N);for(let ee=0;ee<A.length;ee+=1)A[ee].l(Ee);Ee.forEach(d),K=M(x),z=b(x,"DIV",{class:!0});var Se=E(z);B.l(Se),Se.forEach(d),x.forEach(d),this.h()},h:function(){u(n,"class","mt-4 flex justify-between w-full"),k(n,y,60,1,1837),u(c,"href",I=`/notes/${o[4].params.userId}`),u(c,"class","underline"),k(c,y,65,2,1997),u(s,"class","w-full flex flex-grow justify-end"),k(s,y,64,1,1947),u(p,"class","flex-grow grid grid-cols-2 gap-4 mt-2"),k(p,y,67,1,2082),u($,"href",_=`/events/${o[4].params.userId}`),u($,"class","underline"),k($,y,90,2,2847),u(P,"class","h1 text-2xl"),k(P,y,91,2,2927),u(D,"class","flex-grow w-full flex justify-between items-end mt-3"),k(D,y,89,1,2778),u(N,"class","flex-grow flex flex-col mt-2 gap-4"),k(N,y,94,1,2973),u(z,"class","flex-grow flex flex-col space-y-3 items-center my-6"),k(z,y,122,1,4002),u(e,"class","container h-screen bg-surface-900 flex flex-col justify-center items-center px-8"),k(e,y,59,0,1739)},m:function(m,x){L(m,e,x),i(e,n),de(l,n,null),i(n,t),de(a,n,null),i(e,r),i(e,s),i(s,c),i(c,h),i(e,R),i(e,p);for(let C=0;C<v.length;C+=1)v[C]&&v[C].m(p,null);i(e,f),i(e,D),i(D,$),i($,H),i(D,O),i(D,P),i(e,X),i(e,N);for(let C=0;C<A.length;C+=1)A[C]&&A[C].m(N,null);i(e,K),i(e,z),U[T].m(z,null),Y=!0},p:function(m,[x]){if((!Y||x&16&&I!==(I=`/notes/${m[4].params.userId}`))&&u(c,"href",I),x&4){F=ie(m[2]);let w;for(w=0;w<F.length;w+=1){const G=Pe(m,F,w);v[w]?v[w].p(G,x):(v[w]=ve(G),v[w].c(),v[w].m(p,null))}for(;w<v.length;w+=1)v[w].d(1);v.length=F.length}if((!Y||x&16&&_!==(_=`/events/${m[4].params.userId}`))&&u($,"href",_),x&8){V=ie(m[3]);let w;for(w=0;w<V.length;w+=1){const G=Me(m,V,w);A[w]?A[w].p(G,x):(A[w]=ge(G),A[w].c(),A[w].m(N,null))}for(;w<A.length;w+=1)A[w].d(1);A.length=V.length}let C=T;T=oe(m),T===C?U[T].p(m,x):(ot(),ne(U[C],1,1,()=>{U[C]=null}),nt(),B=U[T],B?B.p(m,x):(B=U[T]=Z[T](m),B.c()),le(B,1),B.m(z,null))},i:function(m){Y||(le(l.$$.fragment,m),le(a.$$.fragment,m),le(B),Y=!0)},o:function(m){ne(l.$$.fragment,m),ne(a.$$.fragment,m),ne(B),Y=!1},d:function(m){m&&d(e),me(l),me(a),$e(v,m),$e(A,m),U[T].d()}};return q("SvelteRegisterBlock",{block:se,id:be.name,type:"component",source:"",ctx:o}),se}function ke(o){const e=new Date(o),n=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),t=String(e.getDate()).padStart(2,"0");return`${n}-${l}-${t}`}function ae(o){const e=new Date(o);String(e.getMonth()+1).padStart(2,"0");const n=String(e.getDate()).padStart(2,"0");return[new Intl.DateTimeFormat("en-US",{month:"short"}).format(e),n]}function ft(o,e,n){let l,t,a,r;xe(pe,"page"),Ie(o,pe,_=>n(4,r=_));let{$$slots:s={},$$scope:c}=e;tt("Page",s,[]);const h=Ce(he,"images"),I=Ae(h,Ve("userId","==",r.params.userId),Re(4)),R=Be(he,I);xe(R,"images"),Ie(o,R,_=>n(6,a=_));let p,f=!1;const D=[];Object.keys(e).forEach(_=>{!~D.indexOf(_)&&_.slice(0,2)!=="$$"&&_!=="slot"&&ct.warn(`<Page> was created with unknown prop '${_}'`)});function $(_){p=_,n(0,p)}const H=()=>{je.trigger({message:"Coming Soon! v2.0."})};return o.$capture_state=()=>({HomeButton:ze,SunnyTitle:Ue,collectionStore:Be,userStore:rt,auth:it,firestore:he,uploadImg:Ne,collection:Ce,where:Ve,query:Ae,limit:Re,page:pe,goto:Te,FileButton:Fe,ProgressRadial:Oe,toastStore:je,imagesRef:h,q:I,images:R,files:p,pressAction:f,formatTimestamp:ke,getMonthDate:ae,notes:t,events:l,$images:a,$page:r}),o.$inject_state=_=>{"files"in _&&n(0,p=_.files),"pressAction"in _&&n(1,f=_.pressAction),"notes"in _&&n(2,t=_.notes),"events"in _&&n(3,l=_.events)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty&1&&p&&p.length>0&&(Ne(p).then(_=>{Te(`/processing/${_}`)}),n(1,f=!0)),o.$$.dirty&64&&n(3,l=[...a.filter(_=>_.category=="events"),...Array(2).fill(0)].slice(0,2)),o.$$.dirty&64&&n(2,t=[...a.filter(_=>_.category=="notes"),...Array(4).fill(0)].slice(0,4)),o.$$.dirty&64&&console.log(a)},[p,f,t,l,r,R,a,$,H]}class Dt extends Ze{constructor(e){super(e),et(this,e,ft,be,Qe,{}),q("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:be.name})}}export{Dt as component};
