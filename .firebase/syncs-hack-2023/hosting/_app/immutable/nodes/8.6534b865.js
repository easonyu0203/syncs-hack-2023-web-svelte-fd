import{s as ce,x as V,y as H,g as T,c as $,h as E,i as L,d as j,k as I,O as M,L as ue,e as U,l as Y,m as G}from"../chunks/scheduler.078b4462.js";import{S as fe,i as me,d as N,z as J,v as de,j as K,k as Q,e as S,g as w,a as A,m as W,u as g,r as _e,b as X,t as Z,l as ee,s as te}from"../chunks/index.0492f3ae.js";import{H as ie}from"../chunks/HomeButton.febfff0a.js";import{S as le}from"../chunks/SunnyTitle.72634ef1.js";import{_ as ae,R as se,b as ne,c as oe,u as he,a as pe,f as P,d as ge,k as ve}from"../chunks/firebase.aa651bd7.js";import{p as x}from"../chunks/stores.b53e8de9.js";import{g as be}from"../chunks/navigation.f9bd9e9b.js";import{t as ye}from"../chunks/stores.3a99b166.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.75326b71.js";import{F as we}from"../chunks/FileButton.9fc5bcaa.js";import{P as Se}from"../chunks/ProgressRadial.b732b1fd.js";const C="src/routes/notes/[userId]/+page.svelte";function re(o,e,a){const t=o.slice();return t[8]=e[a],t}function z(o){let e,a,t=o[8].structurized_text.title+"",r,m,s,d=q(o[8].uploadTime)+"",h,u,v;const f={c:function(){e=T("a"),a=T("div"),r=Y(t),m=$(),s=T("div"),h=Y(d),u=$(),this.h()},l:function(p){e=E(p,"A",{href:!0,class:!0});var n=L(e);a=E(n,"DIV",{class:!0});var k=L(a);r=G(k,t),k.forEach(S),m=j(n),s=E(n,"DIV",{class:!0});var l=L(s);h=G(l,d),l.forEach(S),u=j(n),n.forEach(S),this.h()},h:function(){w(a,"class","font-extrabold text-lg"),I(a,C,51,5,1729),w(s,"class","w-full flex justify-end text-sm"),I(s,C,52,5,1809),w(e,"href",v=`images/${o[8].id}`),w(e,"class","card space-y-2 card-hover p-4 rounded-xl flex flex-col"),I(e,C,47,4,1613)},m:function(p,n){A(p,e,n),g(e,a),g(a,r),g(e,m),g(e,s),g(s,h),g(e,u)},p:function(p,n){n&2&&t!==(t=p[8].structurized_text.title+"")&&te(r,t),n&2&&d!==(d=q(p[8].uploadTime)+"")&&te(h,d),n&2&&v!==(v=`images/${p[8].id}`)&&w(e,"href",v)},d:function(p){p&&S(e)}};return N("SvelteRegisterBlock",{block:f,id:z.name,type:"if",source:"(41:3) {#if searchTerm == '' || imgDoc.structurized_text.title      .toLowerCase()      .includes(searchTerm.toLowerCase())}",ctx:o}),f}function B(o){let e=o[0]==""||o[8].structurized_text.title.toLowerCase().includes(o[0].toLowerCase()),a,t=e&&z(o);const r={c:function(){t&&t.c(),a=U()},l:function(s){t&&t.l(s),a=U()},m:function(s,d){t&&t.m(s,d),A(s,a,d)},p:function(s,d){d&3&&(e=s[0]==""||s[8].structurized_text.title.toLowerCase().includes(s[0].toLowerCase())),e?t?t.p(s,d):(t=z(s),t.c(),t.m(a.parentNode,a)):t&&(t.d(1),t=null)},d:function(s){s&&S(a),t&&t.d(s)}};return N("SvelteRegisterBlock",{block:r,id:B.name,type:"each",source:"(40:2) {#each notes as imgDoc}",ctx:o}),r}function O(o){let e,a,t,r,m,s,d,h,u,v,f,b,p,n;a=new le({props:{actionName:"Notes"},$$inline:!0}),r=new ie({$$inline:!0});let k=J(o[1]),l=[];for(let y=0;y<k.length;y+=1)l[y]=B(re(o,k,y));const F={c:function(){e=T("main"),K(a.$$.fragment),t=$(),K(r.$$.fragment),m=$(),s=T("div"),d=$(),h=T("label"),u=T("input"),v=$(),f=T("section");for(let i=0;i<l.length;i+=1)l[i].c();this.h()},l:function(i){e=E(i,"MAIN",{class:!0});var _=L(e);Q(a.$$.fragment,_),t=j(_),Q(r.$$.fragment,_),m=j(_),s=E(_,"DIV",{class:!0}),L(s).forEach(S),d=j(_),h=E(_,"LABEL",{class:!0});var c=L(h);u=E(c,"INPUT",{class:!0,type:!0,placeholder:!0}),c.forEach(S),v=j(_),f=E(_,"SECTION",{class:!0});var D=L(f);for(let R=0;R<l.length;R+=1)l[R].l(D);D.forEach(S),_.forEach(S),this.h()},h:function(){w(s,"class","h-36"),I(s,C,33,1,1216),w(u,"class","input p-2 px-6 w-56 rounded-lg"),w(u,"type","text"),w(u,"placeholder","Search Notes"),I(u,C,35,2,1263),w(h,"class","label"),I(h,C,34,1,1239),w(f,"class","grid grid-cols-2 gap-4 mt-8 overscroll-auto"),I(f,C,42,1,1400),w(e,"class","container h-screen bg-surface-900 relative flex flex-col justify-start items-center px-8"),I(e,C,28,0,1057)},m:function(i,_){A(i,e,_),W(a,e,null),g(e,t),W(r,e,null),g(e,m),g(e,s),g(e,d),g(e,h),g(h,u),M(u,o[0]),g(e,v),g(e,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(f,null);b=!0,p||(n=_e(u,"input",o[4]),p=!0)},p:function(i,[_]){if(_&1&&u.value!==i[0]&&M(u,i[0]),_&3){k=J(i[1]);let c;for(c=0;c<k.length;c+=1){const D=re(i,k,c);l[c]?l[c].p(D,_):(l[c]=B(D),l[c].c(),l[c].m(f,null))}for(;c<l.length;c+=1)l[c].d(1);l.length=k.length}},i:function(i){b||(X(a.$$.fragment,i),X(r.$$.fragment,i),b=!0)},o:function(i){Z(a.$$.fragment,i),Z(r.$$.fragment,i),b=!1},d:function(i){i&&S(e),ee(a),ee(r),ue(l,i),p=!1,n()}};return N("SvelteRegisterBlock",{block:F,id:O.name,type:"component",source:"",ctx:o}),F}function q(o){const e=new Date(o),a=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${a}-${t}-${r}`}function ke(o,e,a){let t,r,m;V(x,"page"),H(o,x,n=>a(5,m=n));let{$$slots:s={},$$scope:d}=e;de("Page",s,[]);const h=ae(P,"images"),u=se(h,ne("userId","==",m.params.userId)),v=oe(P,u);V(v,"images"),H(o,v,n=>a(3,r=n));let f="";const b=[];Object.keys(e).forEach(n=>{!~b.indexOf(n)&&n.slice(0,2)!=="$$"&&n!=="slot"&&console.warn(`<Page> was created with unknown prop '${n}'`)});function p(){f=this.value,a(0,f)}return o.$capture_state=()=>({HomeButton:ie,SunnyTitle:le,collectionStore:oe,userStore:he,auth:pe,firestore:P,uploadImg:ge,collection:ae,where:ne,query:se,limit:ve,page:x,goto:be,FileButton:we,ProgressRadial:Se,toastStore:ye,imagesRef:h,q:u,images:v,searchTerm:f,formatTimestamp:q,notes:t,$images:r,$page:m}),o.$inject_state=n=>{"searchTerm"in n&&a(0,f=n.searchTerm),"notes"in n&&a(1,t=n.notes)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty&8&&a(1,t=r.filter(n=>n.category=="notes"))},[f,t,v,r,p]}class xe extends fe{constructor(e){super(e),me(this,e,ke,O,ce,{}),N("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:O.name})}}export{xe as component};
