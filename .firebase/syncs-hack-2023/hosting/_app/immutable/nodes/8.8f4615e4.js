import{s as ce,x as V,y as H,g as k,c as $,h as T,i as j,d as D,k as E,O as M,L as ue,e as U,l as Y,m as G}from"../chunks/scheduler.078b4462.js";import{S as fe,i as me,d as N,z as J,v as de,j as K,k as Q,e as S,g as b,a as A,u as p,m as W,r as _e,b as X,t as Z,l as ee,s as te}from"../chunks/index.0492f3ae.js";import{H as ie}from"../chunks/HomeButton.645d24de.js";import{S as le}from"../chunks/SunnyTitle.71e1cc19.js";import{_ as ae,R as se,b as ne,c as oe,u as he,a as pe,f as x,d as ge,k as ve}from"../chunks/firebase.aa651bd7.js";import{p as P}from"../chunks/stores.b59c6477.js";import{g as be}from"../chunks/navigation.ef3aaf29.js";import{t as ye}from"../chunks/stores.3a99b166.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.75326b71.js";import{F as we}from"../chunks/FileButton.9fc5bcaa.js";import{P as Se}from"../chunks/ProgressRadial.b732b1fd.js";const I="src/routes/notes/[userId]/+page.svelte";function re(n,e,a){const t=n.slice();return t[8]=e[a],t}function z(n){let e,a,t=n[8].structurized_text.title+"",m,l,o,c=q(n[8].uploadTime)+"",f,w,d;const h={c:function(){e=k("a"),a=k("div"),m=Y(t),l=$(),o=k("div"),f=Y(c),w=$(),this.h()},l:function(_){e=T(_,"A",{href:!0,class:!0});var s=j(e);a=T(s,"DIV",{class:!0});var u=j(a);m=G(u,t),u.forEach(S),l=D(s),o=T(s,"DIV",{class:!0});var C=j(o);f=G(C,c),C.forEach(S),w=D(s),s.forEach(S),this.h()},h:function(){b(a,"class","font-extrabold text-lg"),E(a,I,52,5,1760),b(o,"class","w-full flex justify-end text-sm"),E(o,I,53,5,1840),b(e,"href",d=`images/${n[8].id}`),b(e,"class","card space-y-2 card-hover p-4 rounded-xl flex flex-col"),E(e,I,48,4,1644)},m:function(_,s){A(_,e,s),p(e,a),p(a,m),p(e,l),p(e,o),p(o,f),p(e,w)},p:function(_,s){s&2&&t!==(t=_[8].structurized_text.title+"")&&te(m,t),s&2&&c!==(c=q(_[8].uploadTime)+"")&&te(f,c),s&2&&d!==(d=`images/${_[8].id}`)&&b(e,"href",d)},d:function(_){_&&S(e)}};return N("SvelteRegisterBlock",{block:h,id:z.name,type:"if",source:"(42:3) {#if searchTerm == '' || imgDoc.structurized_text.title      .toLowerCase()      .includes(searchTerm.toLowerCase())}",ctx:n}),h}function B(n){let e=n[0]==""||n[8].structurized_text.title.toLowerCase().includes(n[0].toLowerCase()),a,t=e&&z(n);const m={c:function(){t&&t.c(),a=U()},l:function(o){t&&t.l(o),a=U()},m:function(o,c){t&&t.m(o,c),A(o,a,c)},p:function(o,c){c&3&&(e=o[0]==""||o[8].structurized_text.title.toLowerCase().includes(o[0].toLowerCase())),e?t?t.p(o,c):(t=z(o),t.c(),t.m(a.parentNode,a)):t&&(t.d(1),t=null)},d:function(o){o&&S(a),t&&t.d(o)}};return N("SvelteRegisterBlock",{block:m,id:B.name,type:"each",source:"(41:2) {#each notes as imgDoc}",ctx:n}),m}function O(n){let e,a,t,m,l,o,c,f,w,d,h,y,_;t=new ie({$$inline:!0}),l=new le({props:{actionName:"Notes"},$$inline:!0});let s=J(n[1]),u=[];for(let g=0;g<s.length;g+=1)u[g]=B(re(n,s,g));const C={c:function(){e=k("main"),a=k("div"),K(t.$$.fragment),m=$(),K(l.$$.fragment),o=$(),c=k("label"),f=k("input"),w=$(),d=k("section");for(let i=0;i<u.length;i+=1)u[i].c();this.h()},l:function(i){e=T(i,"MAIN",{class:!0});var v=j(e);a=T(v,"DIV",{class:!0});var r=j(a);Q(t.$$.fragment,r),m=D(r),Q(l.$$.fragment,r),r.forEach(S),o=D(v),c=T(v,"LABEL",{class:!0});var L=j(c);f=T(L,"INPUT",{class:!0,type:!0,placeholder:!0}),L.forEach(S),w=D(v),d=T(v,"SECTION",{class:!0});var F=j(d);for(let R=0;R<u.length;R+=1)u[R].l(F);F.forEach(S),v.forEach(S),this.h()},h:function(){b(a,"class","flex justify-between w-full"),E(a,I,31,1,1165),b(f,"class","input p-2 px-6 w-56 rounded-lg"),b(f,"type","text"),b(f,"placeholder","Search Notes"),E(f,I,36,2,1294),b(c,"class","label"),E(c,I,35,1,1270),b(d,"class","grid grid-cols-2 gap-4 mt-8 overscroll-auto"),E(d,I,43,1,1431),b(e,"class","container h-screen bg-surface-900 relative flex flex-col justify-start items-center px-8"),E(e,I,28,0,1057)},m:function(i,v){A(i,e,v),p(e,a),W(t,a,null),p(a,m),W(l,a,null),p(e,o),p(e,c),p(c,f),M(f,n[0]),p(e,w),p(e,d);for(let r=0;r<u.length;r+=1)u[r]&&u[r].m(d,null);h=!0,y||(_=_e(f,"input",n[4]),y=!0)},p:function(i,[v]){if(v&1&&f.value!==i[0]&&M(f,i[0]),v&3){s=J(i[1]);let r;for(r=0;r<s.length;r+=1){const L=re(i,s,r);u[r]?u[r].p(L,v):(u[r]=B(L),u[r].c(),u[r].m(d,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=s.length}},i:function(i){h||(X(t.$$.fragment,i),X(l.$$.fragment,i),h=!0)},o:function(i){Z(t.$$.fragment,i),Z(l.$$.fragment,i),h=!1},d:function(i){i&&S(e),ee(t),ee(l),ue(u,i),y=!1,_()}};return N("SvelteRegisterBlock",{block:C,id:O.name,type:"component",source:"",ctx:n}),C}function q(n){const e=new Date(n),a=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),m=String(e.getDate()).padStart(2,"0");return`${a}-${t}-${m}`}function ke(n,e,a){let t,m,l;V(P,"page"),H(n,P,s=>a(5,l=s));let{$$slots:o={},$$scope:c}=e;de("Page",o,[]);const f=ae(x,"images"),w=se(f,ne("userId","==",l.params.userId)),d=oe(x,w);V(d,"images"),H(n,d,s=>a(3,m=s));let h="";const y=[];Object.keys(e).forEach(s=>{!~y.indexOf(s)&&s.slice(0,2)!=="$$"&&s!=="slot"&&console.warn(`<Page> was created with unknown prop '${s}'`)});function _(){h=this.value,a(0,h)}return n.$capture_state=()=>({HomeButton:ie,SunnyTitle:le,collectionStore:oe,userStore:he,auth:pe,firestore:x,uploadImg:ge,collection:ae,where:ne,query:se,limit:ve,page:P,goto:be,FileButton:we,ProgressRadial:Se,toastStore:ye,imagesRef:f,q:w,images:d,searchTerm:h,formatTimestamp:q,notes:t,$images:m,$page:l}),n.$inject_state=s=>{"searchTerm"in s&&a(0,h=s.searchTerm),"notes"in s&&a(1,t=s.notes)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&8&&a(1,t=m.filter(s=>s.category=="notes"))},[h,t,d,m,_]}class Pe extends fe{constructor(e){super(e),me(this,e,ke,O,ce,{}),N("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:O.name})}}export{Pe as component};
