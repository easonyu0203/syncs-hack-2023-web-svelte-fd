import{s as mt,x as L,y as T,o as F,g as C,c as D,h as I,i as N,d as z,K as dt,k as $,P as pt,l as p,m as _}from"../chunks/scheduler.078b4462.js";import{S as _t,i as gt,d as S,v as vt,j as J,k as X,e as r,g as h,a as d,u as v,m as Y,b as Z,t as tt,l as et,s as E}from"../chunks/index.0492f3ae.js";import{g as O}from"../chunks/navigation.ef3aaf29.js";import{p as Q}from"../chunks/stores.b59c6477.js";import{H as st}from"../chunks/HomeButton.645d24de.js";import{S as ot}from"../chunks/SunnyTitle.71e1cc19.js";import{e as nt,f as it}from"../chunks/firebase.aa651bd7.js";const j="src/routes/processing/[imgDocId]/+page.svelte";function at(s){let e,n;const o={c:function(){e=p("Brewing the magic"),n=p(s[1])},l:function(t){e=_(t,"Brewing the magic"),n=_(t,s[1])},m:function(t,a){d(t,e,a),d(t,n,a)},p:function(t,a){a&2&&E(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:o,id:at.name,type:"else",source:"(50:3) {:else}",ctx:s}),o}function ct(s){let e,n;const o={c:function(){e=p("Construct beautiful essay"),n=p(s[1])},l:function(t){e=_(t,"Construct beautiful essay"),n=_(t,s[1])},m:function(t,a){d(t,e,a),d(t,n,a)},p:function(t,a){a&2&&E(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:o,id:ct.name,type:"if",source:"(48:53) ",ctx:s}),o}function rt(s){let e,n;const o={c:function(){e=p("Categorize image"),n=p(s[1])},l:function(t){e=_(t,"Categorize image"),n=_(t,s[1])},m:function(t,a){d(t,e,a),d(t,n,a)},p:function(t,a){a&2&&E(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:o,id:rt.name,type:"if",source:"(46:55) ",ctx:s}),o}function lt(s){let e,n;const o={c:function(){e=p("Extracting text"),n=p(s[1])},l:function(t){e=_(t,"Extracting text"),n=_(t,s[1])},m:function(t,a){d(t,e,a),d(t,n,a)},p:function(t,a){a&2&&E(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:o,id:lt.name,type:"if",source:"(44:51) ",ctx:s}),o}function ut(s){let e,n;const o={c:function(){e=p("Waiting in Queue"),n=p(s[1])},l:function(t){e=_(t,"Waiting in Queue"),n=_(t,s[1])},m:function(t,a){d(t,e,a),d(t,n,a)},p:function(t,a){a&2&&E(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:o,id:ut.name,type:"if",source:"(42:45) ",ctx:s}),o}function ft(s){let e,n;const o={c:function(){e=p("Uploading"),n=p(s[1])},l:function(t){e=_(t,"Uploading"),n=_(t,s[1])},m:function(t,a){d(t,e,a),d(t,n,a)},p:function(t,a){a&2&&E(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:o,id:ft.name,type:"if",source:"(40:3) {#if $imgDoc?.status === 'uploading'}",ctx:s}),o}function U(s){let e,n,o,i,t,a,u,y,R,c,k,W="Nice Snap! Let's see what we can do with this snap!",q,x,H,w,M;o=new ot({props:{actionName:"Snap"},$$inline:!0}),t=new st({$$inline:!0});function A(f,l){var m,B,b,P,K;return((m=f[0])==null?void 0:m.status)==="uploading"?ft:((B=f[0])==null?void 0:B.status)==="unprocess"?ut:((b=f[0])==null?void 0:b.status)==="extracting_text"?lt:((P=f[0])==null?void 0:P.status)==="predicting_category"?rt:((K=f[0])==null?void 0:K.status)==="structurized_text"?ct:at}let V=A(s),g=V(s);const G={c:function(){e=C("main"),n=C("div"),J(o.$$.fragment),i=D(),J(t.$$.fragment),a=D(),u=C("img"),R=D(),c=C("div"),k=C("p"),k.textContent=W,q=D(),x=C("div"),H=D(),w=C("p"),g.c(),this.h()},l:function(l){e=I(l,"MAIN",{class:!0});var m=N(e);n=I(m,"DIV",{class:!0});var B=N(n);X(o.$$.fragment,B),i=z(B),X(t.$$.fragment,B),B.forEach(r),a=z(m),u=I(m,"IMG",{src:!0,alt:!0,class:!0}),R=z(m),c=I(m,"DIV",{class:!0});var b=N(c);k=I(b,"P",{class:!0,"data-svelte-h":!0}),dt(k)!=="svelte-119xkck"&&(k.textContent=W),q=z(b),x=I(b,"DIV",{class:!0}),N(x).forEach(r),H=z(b),w=I(b,"P",{class:!0});var P=N(w);g.l(P),P.forEach(r),b.forEach(r),m.forEach(r),this.h()},h:function(){h(n,"class","flex justify-between w-full"),$(n,j,34,1,891),pt(u.src,y="/ghost.gif")||h(u,"src",y),h(u,"alt","ghost flow"),h(u,"class","max-w-xs"),$(u,j,38,1,995),h(k,"class","text-2xl font-semibold"),$(k,j,40,2,1081),h(x,"class","h-8"),$(x,j,41,2,1173),h(w,"class","text-2xl font-semibold"),$(w,j,42,2,1195),h(c,"class","max-w-xs"),$(c,j,39,1,1055),h(e,"class","container h-screen bg-surface-900 relative flex flex-col space-y-12 justify-center items-center"),$(e,j,31,0,776)},m:function(l,m){d(l,e,m),v(e,n),Y(o,n,null),v(n,i),Y(t,n,null),v(e,a),v(e,u),v(e,R),v(e,c),v(c,k),v(c,q),v(c,x),v(c,H),v(c,w),g.m(w,null),M=!0},p:function(l,[m]){V===(V=A(l))&&g?g.p(l,m):(g.d(1),g=V(l),g&&(g.c(),g.m(w,null)))},i:function(l){M||(Z(o.$$.fragment,l),Z(t.$$.fragment,l),M=!0)},o:function(l){tt(o.$$.fragment,l),tt(t.$$.fragment,l),M=!1},d:function(l){l&&r(e),et(o),et(t),g.d()}};return S("SvelteRegisterBlock",{block:G,id:U.name,type:"component",source:"",ctx:s}),G}function yt(s,e,n){let o,i;L(Q,"page"),T(s,Q,c=>n(3,i=c));let{$$slots:t={},$$scope:a}=e;vt("Page",t,[]);const u=nt(it,`images/${i.params.imgDocId}`);L(u,"imgDoc"),T(s,u,c=>n(0,o=c));let y="...";F(()=>{const c=setInterval(()=>{y.length===3?n(1,y=""):n(1,y+=".")},500);return()=>clearInterval(c)});const R=[];return Object.keys(e).forEach(c=>{!~R.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<Page> was created with unknown prop '${c}'`)}),s.$capture_state=()=>({goto:O,page:Q,HomeButton:st,SunnyTitle:ot,firestore:it,onMount:F,docStore:nt,imgDoc:u,dots:y,$imgDoc:o,$page:i}),s.$inject_state=c=>{"dots"in c&&n(1,y=c.dots)},e&&"$$inject"in e&&s.$inject_state(e.$$inject),s.$$.update=()=>{s.$$.dirty&1&&((o==null?void 0:o.status)=="failed"?O("/process_failed"):(o==null?void 0:o.status)=="success"&&O(`/adding/${u.id}`))},[o,y,u]}class It extends _t{constructor(e){super(e),gt(this,e,yt,U,mt,{}),S("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:U.name})}}export{It as component};
