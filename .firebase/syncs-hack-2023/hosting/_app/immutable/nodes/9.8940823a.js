import{s as ft,x as K,y as L,o as T,g as C,c as E,h as $,i as z,d as P,K as mt,N as dt,k as I,l as p,m as _}from"../chunks/scheduler.b5e21764.js";import{S as pt,i as _t,d as S,v as gt,j as F,k as J,e as r,g as w,a as d,m as X,u as y,b as Y,t as Z,l as tt,s as j}from"../chunks/index.731aee48.js";import{g as H}from"../chunks/navigation.587ec899.js";import{p as O}from"../chunks/stores.a6be284b.js";import{H as it}from"../chunks/HomeButton.47e13ceb.js";import{S as ot}from"../chunks/SunnyTitle.3b440636.js";import{e as et,f as nt}from"../chunks/firebase.77b34670.js";const R="src/routes/processing/[imgDocId]/+page.svelte";function st(s){let e,n;const a={c:function(){e=p("Brewing the magic"),n=p(s[1])},l:function(t){e=_(t,"Brewing the magic"),n=_(t,s[1])},m:function(t,o){d(t,e,o),d(t,n,o)},p:function(t,o){o&2&&j(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:a,id:st.name,type:"else",source:"(48:3) {:else}",ctx:s}),a}function at(s){let e,n;const a={c:function(){e=p("Construct beautiful essay"),n=p(s[1])},l:function(t){e=_(t,"Construct beautiful essay"),n=_(t,s[1])},m:function(t,o){d(t,e,o),d(t,n,o)},p:function(t,o){o&2&&j(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:a,id:at.name,type:"if",source:"(46:53) ",ctx:s}),a}function ct(s){let e,n;const a={c:function(){e=p("Categorize image"),n=p(s[1])},l:function(t){e=_(t,"Categorize image"),n=_(t,s[1])},m:function(t,o){d(t,e,o),d(t,n,o)},p:function(t,o){o&2&&j(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:a,id:ct.name,type:"if",source:"(44:55) ",ctx:s}),a}function rt(s){let e,n;const a={c:function(){e=p("Extracting text"),n=p(s[1])},l:function(t){e=_(t,"Extracting text"),n=_(t,s[1])},m:function(t,o){d(t,e,o),d(t,n,o)},p:function(t,o){o&2&&j(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:a,id:rt.name,type:"if",source:"(42:51) ",ctx:s}),a}function lt(s){let e,n;const a={c:function(){e=p("Waiting in Queue"),n=p(s[1])},l:function(t){e=_(t,"Waiting in Queue"),n=_(t,s[1])},m:function(t,o){d(t,e,o),d(t,n,o)},p:function(t,o){o&2&&j(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:a,id:lt.name,type:"if",source:"(40:45) ",ctx:s}),a}function ut(s){let e,n;const a={c:function(){e=p("Uploading"),n=p(s[1])},l:function(t){e=_(t,"Uploading"),n=_(t,s[1])},m:function(t,o){d(t,e,o),d(t,n,o)},p:function(t,o){o&2&&j(n,t[1])},d:function(t){t&&(r(e),r(n))}};return S("SvelteRegisterBlock",{block:a,id:ut.name,type:"if",source:"(38:3) {#if $imgDoc?.status === 'uploading'}",ctx:s}),a}function Q(s){let e,n,a,i,t,o,h,v,f,c,U="Nice Snap! Let's see what we can do with this snap!",M,B,q,k,D;n=new it({$$inline:!0}),i=new ot({props:{actionName:"Snap"},$$inline:!0});function V(m,l){var u,b,x,A,G;return((u=m[0])==null?void 0:u.status)==="uploading"?ut:((b=m[0])==null?void 0:b.status)==="unprocess"?lt:((x=m[0])==null?void 0:x.status)==="extracting_text"?rt:((A=m[0])==null?void 0:A.status)==="predicting_category"?ct:((G=m[0])==null?void 0:G.status)==="structurized_text"?at:st}let N=V(s),g=N(s);const W={c:function(){e=C("main"),F(n.$$.fragment),a=E(),F(i.$$.fragment),t=E(),o=C("img"),v=E(),f=C("div"),c=C("p"),c.textContent=U,M=E(),B=C("div"),q=E(),k=C("p"),g.c(),this.h()},l:function(l){e=$(l,"MAIN",{class:!0});var u=z(e);J(n.$$.fragment,u),a=P(u),J(i.$$.fragment,u),t=P(u),o=$(u,"IMG",{src:!0,alt:!0,class:!0}),v=P(u),f=$(u,"DIV",{class:!0});var b=z(f);c=$(b,"P",{class:!0,"data-svelte-h":!0}),mt(c)!=="svelte-119xkck"&&(c.textContent=U),M=P(b),B=$(b,"DIV",{class:!0}),z(B).forEach(r),q=P(b),k=$(b,"P",{class:!0});var x=z(k);g.l(x),x.forEach(r),b.forEach(r),u.forEach(r),this.h()},h:function(){dt(o.src,h="/ghost.gif")||w(o,"src",h),w(o,"alt","ghost flow"),w(o,"class","max-w-xs"),I(o,R,36,1,941),w(c,"class","text-2xl font-semibold"),I(c,R,38,2,1027),w(B,"class","h-8"),I(B,R,39,2,1119),w(k,"class","text-2xl font-semibold"),I(k,R,40,2,1141),w(f,"class","max-w-xs"),I(f,R,37,1,1001),w(e,"class","container h-screen bg-surface-900 relative flex flex-col space-y-12 justify-center items-center"),I(e,R,31,0,776)},m:function(l,u){d(l,e,u),X(n,e,null),y(e,a),X(i,e,null),y(e,t),y(e,o),y(e,v),y(e,f),y(f,c),y(f,M),y(f,B),y(f,q),y(f,k),g.m(k,null),D=!0},p:function(l,[u]){N===(N=V(l))&&g?g.p(l,u):(g.d(1),g=N(l),g&&(g.c(),g.m(k,null)))},i:function(l){D||(Y(n.$$.fragment,l),Y(i.$$.fragment,l),D=!0)},o:function(l){Z(n.$$.fragment,l),Z(i.$$.fragment,l),D=!1},d:function(l){l&&r(e),tt(n),tt(i),g.d()}};return S("SvelteRegisterBlock",{block:W,id:Q.name,type:"component",source:"",ctx:s}),W}function vt(s,e,n){let a,i;K(O,"page"),L(s,O,c=>n(3,i=c));let{$$slots:t={},$$scope:o}=e;gt("Page",t,[]);const h=et(nt,`images/${i.params.imgDocId}`);K(h,"imgDoc"),L(s,h,c=>n(0,a=c));let v="...";T(()=>{const c=setInterval(()=>{v.length===3?n(1,v=""):n(1,v+=".")},500);return()=>clearInterval(c)});const f=[];return Object.keys(e).forEach(c=>{!~f.indexOf(c)&&c.slice(0,2)!=="$$"&&c!=="slot"&&console.warn(`<Page> was created with unknown prop '${c}'`)}),s.$capture_state=()=>({goto:H,page:O,HomeButton:it,SunnyTitle:ot,firestore:nt,onMount:T,docStore:et,imgDoc:h,dots:v,$imgDoc:a,$page:i}),s.$inject_state=c=>{"dots"in c&&n(1,v=c.dots)},e&&"$$inject"in e&&s.$inject_state(e.$$inject),s.$$.update=()=>{s.$$.dirty&1&&((a==null?void 0:a.status)=="failed"?H("/process_failed"):(a==null?void 0:a.status)=="success"&&H(`/adding/${h.id}`))},[a,v,h]}class Ct extends pt{constructor(e){super(e),_t(this,e,vt,Q,ft,{}),S("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:Q.name})}}export{Ct as component};
